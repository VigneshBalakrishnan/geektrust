<div class="grid-container">
    <div class="grid-item">
        
        <mat-form-field appearance="fill">
            <mat-label>Choose a planet</mat-label>
            <mat-select  [(ngModel)]="formModel.planet1" (selectionChange)="onPlanetChange('1')">
              <mat-option *ngFor="let plt of planets" [value]='plt.name'>{{plt.name}}</mat-option>
            </mat-select>
        </mat-form-field>
        <!-- <select [(ngModel)]="formModel.planet1" (change)="onPlanetChange('1')">
            <option value="">--select--</option>
            <option *ngFor="let plt of planets">{{plt.name}}</option>
        </select> -->
        <div *ngIf="formModel.planet1">
            <mat-radio-group
                aria-labelledby="example-radio-group-label"
                class="example-radio-group"
                [(ngModel)]="formModel.vehicle1">
                <mat-radio-button class="example-radio-button"  [value]='vhl.name'
                [disabled]="isTravelNotPossible(vhl, formModel.planet1)"
                (change)="onvalueChange($event,'first',vhl.name)"
                *ngFor="let vhl of vehicles;let i = index">
                {{vhl.name}}
                </mat-radio-button>
            </mat-radio-group>
            <!-- <div *ngFor="let vhl of vehicles;let i = index">
                <input 
                    [value]='vhl.name' 
                    type="radio" 
                    name="vhl_1_{{vhl.name}}_{{i}}" 
                    id="vhl_1_{{vhl.name}}_{{i}}" 
                    [(ngModel)]="formModel.vehicle1"
                    [disabled]="isTravelNotPossible(vhl, formModel.planet1)"
                    (change)="onvalueChange($event,'first',formModel.vehicle1)" 
                    #vhl_1_{{vhl.name}}_{{i}}="ngModel">
                {{vhl.name}} ({{vhl.total_no}})
            </div> -->
        </div>
    </div>
    
    <div class="grid-item">
        <mat-form-field appearance="fill">
            <mat-label>Choose a planet</mat-label>
            <mat-select  [(ngModel)]="formModel.planet2">
              <mat-option *ngFor="let plt of planets" [value]='plt.name'>{{plt.name}}</mat-option>
            </mat-select>
        </mat-form-field>
        <!-- <select [(ngModel)]="formModel.planet2">
            <option value="">--select--</option>
            <option *ngFor="let plt of planets">{{plt.name}}</option>
        </select> -->
        <div *ngIf="formModel.planet2">
            <mat-radio-group
                aria-labelledby="example-radio-group-label"
                class="example-radio-group"
                [(ngModel)]="formModel.vehicle2"
                 >
                <mat-radio-button class="example-radio-button" [value]='vhl.name'
                [disabled]="isTravelNotPossible(vhl, formModel.planet2)"
                (change)="onvalueChange($event,'second',vhl.name)"
               *ngFor="let vhl of vehicles;let i = index">
                {{vhl.name}}
                </mat-radio-button>
            </mat-radio-group>
            <!-- <div *ngFor="let vhl of vehicles;let i = index">
                <input 
                    [value]='vhl.name' 
                    type="radio" 
                    name="vhl_2_{{vhl.name}}_{{i}}"  
                    id="vhl_2_{{vhl.name}}_{{i}}" 
                    [(ngModel)]="formModel.vehicle2"
                    [disabled]="isTravelNotPossible(vhl, formModel.planet2)"
                    (change)="onvalueChange($event,'second',formModel.vehicle2)" 
                    #vhl_2_{{vhl.name}}_{{i}}="ngModel">
                {{vhl.name}} ({{vhl.total_no}})
            </div> -->
        </div>
    </div>
    
    <div class="grid-item">
        <mat-form-field appearance="fill">
            <mat-label>Choose a planet</mat-label>
            <mat-select  [(ngModel)]="formModel.planet3">
              <mat-option *ngFor="let plt of planets" [value]='plt.name'>{{plt.name}}</mat-option>
            </mat-select>
        </mat-form-field>
        <!-- <select [(ngModel)]="formModel.planet3">
            <option value="">--select--</option>
            <option *ngFor="let plt of planets">{{plt.name}}</option>
        </select> -->
        <div *ngIf="formModel.planet3">
            <mat-radio-group
                aria-labelledby="example-radio-group-label"
                class="example-radio-group"
                [(ngModel)]="formModel.vehicle3">
                <mat-radio-button class="example-radio-button" [value]='vhl.name'
                [disabled]="isTravelNotPossible(vhl, formModel.planet3)"
                (change)="onvalueChange($event,'third',vhl.name)"
                 *ngFor="let vhl of vehicles;let i = index">
                {{vhl.name}}
                </mat-radio-button>
            </mat-radio-group>
            <!-- <div *ngFor="let vhl of vehicles;let i = index" >
                <input 
                    [value]='vhl.name' 
                    type="radio" 
                    name="vhl_3_{{vhl.name}}_{{i}}"  
                    id="vhl_3_{{vhl.name}}_{{i}}"
                    [disabled]="isTravelNotPossible(vhl, formModel.planet3)"
                    [(ngModel)]="formModel.vehicle3" 
                    (change)="onvalueChange($event,'third',formModel.vehicle3)" 
                    #vhl_3_{{vhl.name}}_{{i}}="ngModel">
                {{vhl.name}} ({{vhl.total_no}})
            </div> -->
        </div>
    </div>
    
    <div class="grid-item">
        <mat-form-field appearance="fill">
            <mat-label>Choose a planet</mat-label>
            <mat-select  [(ngModel)]="formModel.planet4">
              <mat-option *ngFor="let plt of planets" [value]='plt.name'>{{plt.name}}</mat-option>
            </mat-select>
        </mat-form-field>
        <!-- <select [(ngModel)]="formModel.planet4">
            <option value="">--select--</option>
            <option *ngFor="let plt of planets">{{plt.name}}</option>
        </select> -->
        <div *ngIf="formModel.planet4">
            <mat-radio-group
                aria-labelledby="example-radio-group-label"
                class="example-radio-group"
                [(ngModel)]="formModel.vehicle4"
                >
                <mat-radio-button class="example-radio-button" [value]='vhl.name'
                [disabled]="isTravelNotPossible(vhl, formModel.planet4)"
                (change)="onvalueChange($event,'fourth',vhl.name)"
                 *ngFor="let vhl of vehicles;let i = index">
                {{vhl.name}}
                </mat-radio-button>
            </mat-radio-group>
            <!-- <div *ngFor="let vhl of vehicles;let i = index">
                <input 
                    [value]='vhl.name' 
                    type="radio" 
                    name="vhl_4_{{vhl.name}}_{{i}}"  
                    id="vhl_4_{{vhl.name}}_{{i}}" 
                    [(ngModel)]="formModel.vehicle4"
                    [disabled]="isTravelNotPossible(vhl, formModel.planet4)"
                    (change)="onvalueChange($event,'fourth',formModel.vehicle4)" 
                    #vhl_4_{{vhl.name}}_{{i}}="ngModel"
                >
                {{vhl.name}} ({{vhl.total_no}})
            </div> -->
        </div>
    </div>
    <div class="grid-item">
        <div class="findFalcone">
            <button mat-flat-button color="accent" [disabled]="!(formModel.planet4 && formModel.planet3 && formModel.planet2 && formModel.planet1)" (click)="findThatFalcone()">Find Falcone</button>
        </div>
    </div>
</div>

<div class="timetakentofin">
    Time Taken : {{getTotalTime()}}
</div>
<div class="tableclass">
    <table mat-table [dataSource]="vehicles" class="mat-elevation-z8">

        <!--- Note that these columns can be defined in any order.
              The actual rendered columns are set as a property on the row definition" -->
      
        <!-- Position Column -->
        <ng-container matColumnDef="Vehicle Name">
          <th mat-header-cell *matHeaderCellDef> Vehicle Name </th>
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>
      
        <!-- Name Column -->
        <ng-container matColumnDef="Total Count">
          <th mat-header-cell *matHeaderCellDef> Total </th>
          <td mat-cell *matCellDef="let element"> {{element.total_no}} </td>
        </ng-container>
      
        <!-- Weight Column -->
        <ng-container matColumnDef="Used Count">
          <th mat-header-cell *matHeaderCellDef> Used </th>
          <td mat-cell *matCellDef="let element"> {{usedVehicleCount[element.name] || 0}} </td>
        </ng-container>
      
        <!-- Symbol Column -->
        <ng-container matColumnDef="Avaialbility">
          <th mat-header-cell *matHeaderCellDef> Avaialbility </th>
          <td mat-cell *matCellDef="let element"> {{element.total_no - (usedVehicleCount[element.name] || 0) ? 'Available': 'Not Available'}} </td>
        </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
</div>